@model LinksModel

@{
	string[] acidentes = { "5+", "6", "7", "7+", "9", "11" };
	string[] tons = { "C", "D", "E", "F", "G", "A", "B" };
	string[] tonsMenores = { "Am", "Bm", "Cm", "Dm", "Em", "Fm", "Gm" };
}

<style>
	/*input:focus {
		background: #92a8d1;
	}*/
	table {
		margin: 0 auto;
	}

	table, th, td {
		border: 10px solid transparent;
	}
</style>

<div class="container" id="container" style="display:none">
	@*https://media.istockphoto.com/id/1072152878/vector/organ-icon-with-long-shadow.jpg?s=170667a&w=0&k=20&c=A8p43QxO8SYq-wRB6CH_wdT3Pblwob6YsuoOaR79wXI=*@

	

	@if (Model.AcordesLinks != null)
	{
		<div class="container mt-3">
			<label>Tom:</label>
			<select class="form-control" id="tomSelect" onchange="mudarTom()">
				@foreach (var tom in tons)
				{
					<option value="@tom">@tom</option>
				}
			</select>
		</div>

		<table>
			<tr>
				<td></td>
				<td></td>
				<td>
					<button id="play-pause" data-playing="false" class="botao parar" onclick="playAcorde(-1, this)">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stop-fill" viewBox="0 0 16 16">
							<path d="M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z" />
						</svg>
					</button>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td><input type="button" class="botao azul" value="@Model.AcordesLinks[0]" onclick="playAcorde(0, this)"></td>
				<td><input type="button" class="botao vermelho" value="@Model.AcordesLinks[3]" onclick="playAcorde(3, this)"></td>
				<td><input type="button" class="botao amarelo" value="@Model.AcordesLinks[4]" onclick="playAcorde(4, this)"></td>
				<td></td>
			</tr>
			<tr>
				<td>
					@*@if (@Model.AcordesLinks[6] != "")
					{
						<input type="button" class="botao marrom" value="@Model.AcordesLinks[6]" onclick="playAcorde(6, this)">
					}*@
				</td>
				<td><input type="button" class="botao roxo" value="@Model.AcordesLinks[5]" onclick="playAcorde(5, this)"></td>
				<td><input type="button" class="botao rosa" value="@Model.AcordesLinks[2]" onclick="playAcorde(2, this)"></td>
				<td><input type="button" class="botao marrom" value="@Model.AcordesLinks[1]" onclick="playAcorde(1, this)"></td>
				<td>
					@*@if (@Model.AcordesLinks[7] != "")
					{
						<input type="button" class="botao marrom" value="@Model.AcordesLinks[7]" onclick="playAcorde(7, this)">
					}*@
				</td>
			</tr>
			<tr>
				<td>
				</td>
				<td><input type="button" class="botao roxoClaro" value="@Model.AcordesLinks[9]" onclick="playAcorde(5, this)"></td>
				<td><input type="button" class="botao rosaClaro" value="@Model.AcordesLinks[10]" onclick="playAcorde(2, this)"></td>
				<td><input type="button" class="botao marromClaro" value="@Model.AcordesLinks[7]" onclick="playAcorde(1, this)"></td>
				<td>
				</td>
			</tr>
			@*<tr>
				<td></td>
				<td><input type="button" class="botao cinza" value="@acidentes[1]" onclick="playAcorde(8, this)"></td>
				<td><input type="button" class="botao cinza" value="@acidentes[2]" onclick="playAcorde(9, this)"></td>
				<td><input type="button" class="botao cinza" value="@acidentes[4]" onclick="playAcorde(10, this)"></td>
				<td></td>
			</tr>*@
			<tr>
				<td></td>
				<td></td>
				<td>
					<button class="botao dedo" onclick="playAcorde(99, this)"></button>
				</td>
				<td>
					<button class="botao mao" onclick="playAcorde(99, this)"></button>
				</td>
				<td>
					<button class="botao duasmaos" onclick="playAcorde(99, this)"></button>
				</td>
			</tr>
		</table>
	}
</div>

<script>
	document.getElementById('tomSelect').value = '@Model.Tom';

	var acordes = [
		new Audio('@Html.Raw(@Model.LinksDict["orgao" + @Model.AcordesLinks[0]])'),
		new Audio('@Html.Raw(@Model.LinksDict["orgao" + @Model.AcordesLinks[1]])'),
		new Audio('@Html.Raw(@Model.LinksDict["orgao" + @Model.AcordesLinks[2]])'),
		new Audio('@Html.Raw(@Model.LinksDict["orgao" + @Model.AcordesLinks[3]])'),
		new Audio('@Html.Raw(@Model.LinksDict["orgao" + @Model.AcordesLinks[4]])'),
		new Audio('@Html.Raw(@Model.LinksDict["orgao" + @Model.AcordesLinks[5]])'),
		
	];

	function esperarAudios(aguardar) {
		if (!aguardar)
			document.getElementById('container').style.display = 'block';
		setTimeout(function() {
			document.getElementById('container').style.display = 'block';
		}, 3000)
	}

	esperarAudios(false);

	var tocando = -1;

</script>